<?php

namespace App\tests\Functional;

use App\Test\CustomApiTestCase;

class CheeseListingResourceTest extends CustomApiTestCase {

    function testCreateCheeseListing()
    {
        $client = self::createClient();
        $client->request('POST', '/api/cheeses', [
            'headers' => ['Content-Type' => 'application/json'],
            'json' => []
        ]);
        $this->assertResponseStatusCodeSame(401);

        $this->createUser('cheeseplease@example.com',
            '$argon2id$v=19$m=65536,t=4,p=1$aUphWXhCQkVrNkh5Y3Bleg$W+T5mGHSgvrOYOBnRQMQQ8t3RjbcSVeGi3SsfBfzM6Y');
        // try to login with new user
        $this->logIn($client, 'cheeseplease@example.com', '123');
    }
}

